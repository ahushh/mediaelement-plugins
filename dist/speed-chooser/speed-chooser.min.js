!function e(t,o,s){function r(c,n){if(!o[c]){if(!t[c]){var a="function"==typeof require&&require;if(!n&&a)return a(c,!0);if(i)return i(c,!0);var u=new Error("Cannot find module '"+c+"'");throw u.code="MODULE_NOT_FOUND",u}var d=o[c]={exports:{}};t[c][0].call(d.exports,function(e){var o=t[c][1][e];return r(o||e)},d,d.exports,e,t,o,s)}return o[c].exports}for(var i="function"==typeof require&&require,c=0;c<s.length;c++)r(s[c]);return r}({1:[function(e,t,o){"use strict";mejs.i18n.en["mejs.speed-chooser"]="Speed Chooser",Object.assign(mejs.MepDefaults,{speedchooserText:null}),Object.assign(MediaElementPlayer.prototype,{buildspeedchooser:function(e,t,o,s){this.media=s;for(var r=this,i=mejs.Utils.isString(r.options.speedchooserText)?r.options.speedchooserText:mejs.i18n.t("mejs.speed-chooser"),c=[],n=r.mediaFiles?r.mediaFiles:r.node.childNodes,a=void 0,u=0,d=n.length;u<d;u++){var l=n[u];r.mediaFiles?c.push(l):"SOURCE"===l.nodeName&&c.push(l)}if(!(c.length<=1)){e.speedchooserButton=document.createElement("div"),e.speedchooserButton.className=r.options.classPrefix+"button "+r.options.classPrefix+"speedchooser-button",e.speedchooserButton.innerHTML='<button type="button" role="button" aria-haspopup="true" aria-owns="'+r.id+'" title="'+i+'" aria-label="'+i+'" tabindex="0"></button><div class="'+r.options.classPrefix+"speedchooser-selector "+r.options.classPrefix+'offscreen" role="menu" aria-expanded="false" aria-hidden="true"><ul></ul></div>',r.addControlElement(e.speedchooserButton,"speedchooser");for(var p=0,h=c.length;p<h;p++){var f=c[p];void 0!==f.type&&"function"==typeof s.canPlayType&&e.addSourceButton(f.src,f.title,f.type,s.src===f.src,parseInt(f.title.replace(/x/,"").replace(/\./,"").replace(/^2$/,"20")),parseFloat(f.title.replace(/x/,"")))}e.speedchooserButton.addEventListener("mouseover",function(){clearTimeout(a),e.showSourcechooserSelector()}),e.speedchooserButton.addEventListener("mouseout",function(){a=setTimeout(function(){e.hideSourcechooserSelector()},500)}),e.speedchooserButton.addEventListener("keydown",function(t){if(r.options.keyActions.length){switch(t.which||t.keyCode||0){case 32:mejs.MediaFeatures.isFirefox||e.showSourcechooserSelector(),e.speedchooserButton.querySelector("input[type=radio]:checked").focus();break;case 13:e.showSourcechooserSelector(),e.speedchooserButton.querySelector("input[type=radio]:checked").focus();break;case 27:e.hideSourcechooserSelector(),e.speedchooserButton.querySelector("button").focus();break;default:return!0}t.preventDefault(),t.stopPropagation()}}),e.speedchooserButton.addEventListener("focusout",mejs.Utils.debounce(function(){setTimeout(function(){document.activeElement.closest("."+r.options.classPrefix+"speedchooser-selector")||e.hideSourcechooserSelector()},0)},100));for(var v=e.speedchooserButton.querySelectorAll("input[type=radio]"),S=0,m=v.length;S<m;S++)!function(e,t){v[e].addEventListener("click",function(){this.setAttribute("aria-selected",!0),this.checked=!0;var t=String(v[e].getAttribute("data-speed").replace(/\D+/g,""));"2"===t&&(t="20"),angular.element(".mejs__speedchooser-selector li").removeClass("active"),angular.element(".speed-"+t).addClass("active");var o=this.closest("."+r.options.classPrefix+"speedchooser-selector").querySelectorAll("input[type=radio]"),i=s.speed;s.speed=this.dataset.speed;for(var c=0,n=o.length;c<n;c++)o[c]!==this&&(o[c].setAttribute("aria-selected","false"),o[c].removeAttribute("checked"));var a=this.value;if(s.getSrc()!==a){var u=s.currentTime,d=s.paused,l=function e(){s.setCurrentTime(u*i/s.speed),d||s.play(),s.removeEventListener("canplay",e)};s.pause(),s.setSrc(a),s.load(),s.addEventListener("canplay",l)}})}(S);e.speedchooserButton.querySelector("button").addEventListener("click",function(){mejs.Utils.hasClass(mejs.Utils.siblings(this,"."+r.options.classPrefix+"speedchooser-selector"),r.options.classPrefix+"offscreen")?(e.showSourcechooserSelector(),e.speedchooserButton.querySelector("input[type=radio]:checked").focus()):e.hideSourcechooserSelector()})}},addSourceButton:function(e,t,o,s,r,i){var c=this;""!==t&&void 0!==t||(t=e),o=o.split("/")[1],c.speedchooserButton.querySelector("ul").innerHTML+="<li class='"+o+" speed-"+r+"'><input data-speed=\""+i+'" type="radio" name="'+c.id+'_speedchooser" id="'+c.id+"_speedchooser_"+t+o+'"role="menuitemradio" value="'+e+'" '+(s?'checked="checked"':"")+' aria-selected="'+s+'"/><label for="'+c.id+"_speedchooser_"+t+o+'" aria-hidden="true">'+t+"</label></li>",c.adjustSourcechooserBox()},adjustSourcechooserBox:function(){var e=this;e.speedchooserButton.querySelector("."+e.options.classPrefix+"speedchooser-selector").style.height=parseFloat(e.speedchooserButton.querySelector("."+e.options.classPrefix+"speedchooser-selector ul").offsetHeight)+"px"},hideSourcechooserSelector:function(){var e=this;if(void 0!==e.speedchooserButton&&e.speedchooserButton.querySelector("input[type=radio]")){var t=e.speedchooserButton.querySelector("."+e.options.classPrefix+"speedchooser-selector"),o=t.querySelectorAll("input[type=radio]");t.setAttribute("aria-expanded","false"),t.setAttribute("aria-hidden","true"),mejs.Utils.addClass(t,e.options.classPrefix+"offscreen");for(var s=0,r=o.length;s<r;s++)o[s].setAttribute("tabindex","-1")}},showSourcechooserSelector:function(){var e=this;if(void 0!==e.speedchooserButton&&e.speedchooserButton.querySelector("input[type=radio]")){var t=e.speedchooserButton.querySelector("."+e.options.classPrefix+"speedchooser-selector"),o=t.querySelectorAll("input[type=radio]");t.setAttribute("aria-expanded","true"),t.setAttribute("aria-hidden","false"),mejs.Utils.removeClass(t,e.options.classPrefix+"offscreen");for(var s=0,r=o.length;s<r;s++)o[s].setAttribute("tabindex","0")}}})},{}]},{},[1]);
