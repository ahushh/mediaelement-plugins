!function e(o,t,s){function r(c,n){if(!t[c]){if(!o[c]){var u="function"==typeof require&&require;if(!n&&u)return u(c,!0);if(i)return i(c,!0);var a=new Error("Cannot find module '"+c+"'");throw a.code="MODULE_NOT_FOUND",a}var d=t[c]={exports:{}};o[c][0].call(d.exports,function(e){var t=o[c][1][e];return r(t||e)},d,d.exports,e,o,t,s)}return t[c].exports}for(var i="function"==typeof require&&require,c=0;c<s.length;c++)r(s[c]);return r}({1:[function(e,o,t){"use strict";mejs.i18n.en["mejs.speed-chooser"]="Speed Chooser",Object.assign(mejs.MepDefaults,{speedchooserText:null}),Object.assign(MediaElementPlayer.prototype,{buildspeedchooser:function(e,o,t,s){this.media=s;for(var r=this,i=mejs.Utils.isString(r.options.speedchooserText)?r.options.speedchooserText:mejs.i18n.t("mejs.speed-chooser"),c=[],n=r.mediaFiles?r.mediaFiles:r.node.childNodes,u=void 0,a=0,d=n.length;a<d;a++){var l=n[a];r.mediaFiles?c.push(l):"SOURCE"===l.nodeName&&c.push(l)}if(!(c.length<=1)){e.speedchooserButton=document.createElement("div"),e.speedchooserButton.className=r.options.classPrefix+"button "+r.options.classPrefix+"speedchooser-button",e.speedchooserButton.innerHTML='<button type="button" role="button" aria-haspopup="true" aria-owns="'+r.id+'" title="'+i+'" aria-label="'+i+'" tabindex="0"></button><div class="'+r.options.classPrefix+"speedchooser-selector "+r.options.classPrefix+'offscreen" role="menu" aria-expanded="false" aria-hidden="true"><ul></ul></div>',r.addControlElement(e.speedchooserButton,"speedchooser");for(var p=0,h=c.length;p<h;p++){var f=c[p];void 0!==f.type&&"function"==typeof s.canPlayType&&e.addSourceButton(f.src,f.title,f.type,s.src===f.src,f.dataset.speed)}e.speedchooserButton.addEventListener("mouseover",function(){clearTimeout(u),e.showSourcechooserSelector()}),e.speedchooserButton.addEventListener("mouseout",function(){u=setTimeout(function(){e.hideSourcechooserSelector()},500)}),e.speedchooserButton.addEventListener("keydown",function(o){if(r.options.keyActions.length){switch(o.which||o.keyCode||0){case 32:mejs.MediaFeatures.isFirefox||e.showSourcechooserSelector(),e.speedchooserButton.querySelector("input[type=radio]:checked").focus();break;case 13:e.showSourcechooserSelector(),e.speedchooserButton.querySelector("input[type=radio]:checked").focus();break;case 27:e.hideSourcechooserSelector(),e.speedchooserButton.querySelector("button").focus();break;default:return!0}o.preventDefault(),o.stopPropagation()}}),e.speedchooserButton.addEventListener("focusout",mejs.Utils.debounce(function(){setTimeout(function(){document.activeElement.closest("."+r.options.classPrefix+"speedchooser-selector")||e.hideSourcechooserSelector()},0)},100));for(var v=e.speedchooserButton.querySelectorAll("input[type=radio]"),S=0,y=v.length;S<y;S++)v[S].addEventListener("click",function(){this.setAttribute("aria-selected",!0),this.checked=!0;var e=this.closest("."+r.options.classPrefix+"speedchooser-selector").querySelectorAll("input[type=radio]");s.speed=this.dataset.speed;for(var o=0,t=e.length;o<t;o++)e[o]!==this&&(e[o].setAttribute("aria-selected","false"),e[o].removeAttribute("checked"));var i=this.value;if(s.getSrc()!==i){var c=s.currentTime,n=s.paused,u=function e(){n||(s.setCurrentTime(c),s.play()),s.removeEventListener("canplay",e)};s.pause(),s.setSrc(i),s.load(),s.addEventListener("canplay",u)}});e.speedchooserButton.querySelector("button").addEventListener("click",function(){mejs.Utils.hasClass(mejs.Utils.siblings(this,"."+r.options.classPrefix+"speedchooser-selector"),r.options.classPrefix+"offscreen")?(e.showSourcechooserSelector(),e.speedchooserButton.querySelector("input[type=radio]:checked").focus()):e.hideSourcechooserSelector()})}},addSourceButton:function(e,o,t,s,r){var i=this;""!==o&&void 0!==o||(o=e),t=t.split("/")[1],i.speedchooserButton.querySelector("ul").innerHTML+="<li class='"+t+" speed-"+r+"'><input data-speed=\""+r+'" type="radio" name="'+i.id+'_speedchooser" id="'+i.id+"_speedchooser_"+o+t+'"role="menuitemradio" value="'+e+'" '+(s?'checked="checked"':"")+' aria-selected="'+s+'"/><label for="'+i.id+"_speedchooser_"+o+t+'" aria-hidden="true">'+o+"</label></li>",i.adjustSourcechooserBox()},adjustSourcechooserBox:function(){var e=this;e.speedchooserButton.querySelector("."+e.options.classPrefix+"speedchooser-selector").style.height=parseFloat(e.speedchooserButton.querySelector("."+e.options.classPrefix+"speedchooser-selector ul").offsetHeight)+"px"},hideSourcechooserSelector:function(){var e=this;if(void 0!==e.speedchooserButton&&e.speedchooserButton.querySelector("input[type=radio]")){var o=e.speedchooserButton.querySelector("."+e.options.classPrefix+"speedchooser-selector"),t=o.querySelectorAll("input[type=radio]");o.setAttribute("aria-expanded","false"),o.setAttribute("aria-hidden","true"),mejs.Utils.addClass(o,e.options.classPrefix+"offscreen");for(var s=0,r=t.length;s<r;s++)t[s].setAttribute("tabindex","-1")}},showSourcechooserSelector:function(){var e=this;if(void 0!==e.speedchooserButton&&e.speedchooserButton.querySelector("input[type=radio]")){var o=e.speedchooserButton.querySelector("."+e.options.classPrefix+"speedchooser-selector"),t=o.querySelectorAll("input[type=radio]");o.setAttribute("aria-expanded","true"),o.setAttribute("aria-hidden","false"),mejs.Utils.removeClass(o,e.options.classPrefix+"offscreen");for(var s=0,r=t.length;s<r;s++)t[s].setAttribute("tabindex","0")}}})},{}]},{},[1]);
